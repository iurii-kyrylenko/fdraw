webpackJsonp([1],[,,,,,,,,function(t,e,s){"use strict";var n=s(69),i=s.n(n),a=s(18);e.a={props:["value"],methods:{draw:function(){this.$emit("progress",!0),this.interactions.unbind();var t=this.$el.getContext("2d"),e=this.getState(),s=t.createImageData(e.width,e.height);this.fworker.postMessage({image:s,params:e})}},mounted:function(){var t=this;this.fworker=new i.a,this.fworker.onmessage=function(e){t.$el.getContext("2d").putImageData(e.data.image,0,0),t.interactions.bind(),t.$emit("progress",!1)},this.interactions=a.a.create(this.$el,{move:function(e,s){t.changeState(function(t){var n=t.x,i=t.y,a=t.zoom;return{x:n-e/a,y:i+s/a}})},zoomIn:function(){t.changeState(function(t){return{zoom:1.5*t.zoom}})},zoomOut:function(){t.changeState(function(t){return{zoom:t.zoom/1.5}})}}),this.draw()},beforeDestroy:function(){this.fworker.terminate()}}},,,,,,,,function(t,e,s){"use strict";var n=s(7),i=s(66),a=s(59),o=s.n(a);n.a.use(i.a),e.a=new i.a({routes:[{path:"/",component:o.a},{path:"*",redirect:"/"}]})},function(t,e,s){s(58);var n=s(1)(s(20),s(65),null,null);t.exports=n.exports},function(t,e,s){"use strict";var n=s(25),i=s.n(n),a=s(26),o=s.n(a),r=function(){function t(){i()(this,t),this.onMouseDown=this.onMouseDown.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.onTouchStart=this.onTouchStart.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this)}return o()(t,[{key:"setup",value:function(t,e){this.elem=t,this.actions=e}},{key:"onMouseDown",value:function(t){this.cStart={x:t.clientX,y:t.clientY}}},{key:"onMouseUp",value:function(t){var e={x:t.clientX,y:t.clientY};this.actions.move(e.x-this.cStart.x,e.y-this.cStart.y)}},{key:"onKeyDown",value:function(t){switch(t.keyCode){case 107:case 187:this.actions.zoomIn();break;case 109:case 189:this.actions.zoomOut();break;default:return}}},{key:"onTouchStart",value:function(t){t.preventDefault();var e=t.targetTouches.length;1===e?(this.sx1=t.targetTouches[0].clientX,this.sy1=t.targetTouches[0].clientY,this.state=1):2===e?(this.sx1=t.targetTouches[0].clientX,this.sy1=t.targetTouches[0].clientY,this.sx2=t.targetTouches[1].clientX,this.sy2=t.targetTouches[1].clientY,this.state=2):this.state=0}},{key:"onTouchEnd",value:function(t){if(t.preventDefault(),1===this.state)this.ex1=t.changedTouches[0].clientX,this.ey1=t.changedTouches[0].clientY,this.actions.move(this.ex1-this.sx1,this.ey1-this.sy1);else if(2===this.state){this.ex1=t.changedTouches[0].clientX,this.ey1=t.changedTouches[0].clientY,t.changedTouches.length>1?(this.ex2=t.changedTouches[1].clientX,this.ey2=t.changedTouches[1].clientY):(this.ex2=t.targetTouches[0].clientX,this.ey2=t.targetTouches[0].clientY);var e=(this.sx1-this.sx2)*(this.sx1-this.sx2)+(this.sy1-this.sy2)*(this.sy1-this.sy2),s=(this.ex1-this.ex2)*(this.ex1-this.ex2)+(this.ey1-this.ey2)*(this.ey1-this.ey2);e>s?this.actions.zoomOut():this.actions.zoomIn()}this.state=0}},{key:"bind",value:function(){this.state=0,this.sx1=0,this.sy1=0,this.sx2=0,this.sy2=0,this.ex1=0,this.ey1=0,this.ex2=0,this.ey2=0,this.elem.addEventListener("mousedown",this.onMouseDown),this.elem.addEventListener("mouseup",this.onMouseUp),this.elem.addEventListener("keydown",this.onKeyDown),this.elem.addEventListener("touchstart",this.onTouchStart),this.elem.addEventListener("touchend",this.onTouchEnd)}},{key:"unbind",value:function(){this.elem.removeEventListener("mousedown",this.onMouseDown),this.elem.removeEventListener("mouseup",this.onMouseUp),this.elem.removeEventListener("keydown",this.onKeyDown),this.elem.removeEventListener("touchstart",this.onTouchStart),this.elem.removeEventListener("touchend",this.onTouchEnd)}}],[{key:"create",value:function(e,s){var n=new t;return n.setup(e,s),n}}]),t}();e.a=r},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(7),i=s(17),a=s.n(i),o=s(16);n.a.config.productionTip=!1,new n.a({el:"#app",router:o.a,template:"<App/>",components:{App:a.a}})},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"app"}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(27),i=s.n(n),a=s(2),o=s.n(a),r=s(60),h=s.n(r),u=s(61),c=s.n(u);e.default={components:{FdrawR:h.a,FdrawRw:c.a},data:function(){return{params:{width:320,height:440,x:-.5,y:0,zoom:150},drawing:""}},methods:{pushToImmutable:function(t,e){var s=+e.target.value;!isNaN(s)&&s>0&&(this.params=o()({},this.params,i()({},t,s)))},progress:function(t){this.drawing=t?"Drawing...":""}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(2),i=s.n(n),a=s(8);e.default={mixins:[a.a],methods:{changeState:function(t){this.state=i()({},this.state,t(this.state)),this.draw(),this.$emit("input",this.state)}},created:function(){var t=this;this.state=i()({width:300,height:300,x:-.5,y:0,zoom:100},this.value),this.getState=function(){return t.state}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(2),i=s.n(n),a=s(8);e.default={mixins:[a.a],methods:{changeState:function(t){var e=i()({},this.$props.value,t(this.$props.value));this.$emit("input",e)}},watch:{value:function(t){var e=this;this.$nextTick(function(){return e.draw()})}},created:function(){var t=this;this.getState=function(){return t.$props.value}}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e,s){s(56);var n=s(1)(s(21),s(63),"data-v-3a7a549a",null);t.exports=n.exports},function(t,e,s){s(57);var n=s(1)(s(22),s(64),null,null);t.exports=n.exports},function(t,e,s){s(55);var n=s(1)(s(23),s(62),null,null);t.exports=n.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("canvas",{staticClass:"fcanvas",attrs:{tabindex:"-1",width:t.value.width,height:t.value.height}})},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"fpanel"},[s("input",{attrs:{title:"Width"},domProps:{value:t.params.width},on:{input:function(e){t.pushToImmutable("width",e)}}}),t._v(" "),s("span",[t._v("×")]),t._v(" "),s("input",{attrs:{title:"Height"},domProps:{value:t.params.height},on:{input:function(e){t.pushToImmutable("height",e)}}}),t._v(" "),s("span",{staticClass:"info"},[s("b",[t._v(t._s(t.drawing))])]),t._v(" "),s("div",{staticClass:"info"},[t._v("x:    "+t._s(t.params.x))]),t._v(" "),s("div",{staticClass:"info"},[t._v("y:    "+t._s(t.params.y))]),t._v(" "),s("div",{staticClass:"info"},[t._v("zoom: "+t._s(t.params.zoom))])]),t._v(" "),s("fdraw-rw",{on:{progress:t.progress},model:{value:t.params,callback:function(e){t.params=e},expression:"params"}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("canvas",{staticClass:"fcanvas",attrs:{tabindex:"-1",width:t.state.width,height:t.state.height}})},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},staticRenderFns:[]}},,,,function(t,e,s){t.exports=function(){return new Worker(s.p+"96bf81c4b7f5e82a522f.worker.js")}}],[19]);