webpackJsonp([1],{19:function(t,e,s){"use strict";var n=s(96),i=s.n(n),a=s(38);e.a={props:["value"],methods:{draw:function(){this.$emit("progress",!0),this.interactions.unbind();var t=this.$el.getContext("2d"),e=this.getState(),s=t.createImageData(e.width,e.height);this.fworker.postMessage({image:s,params:e})}},mounted:function(){var t=this;this.fworker=new i.a,this.fworker.onmessage=function(e){t.$el.getContext("2d").putImageData(e.data.image,0,0),t.interactions.bind(),t.$emit("progress",!1)},this.interactions=a.a.create(this.$el,{move:function(e,s){(e||s)&&t.changeState(function(t){var n=t.x,i=t.y,a=t.zoom;return{x:n-e/a,y:i+s/a}})},zoomIn:function(){t.changeState(function(t){return{zoom:1.5*t.zoom}})},zoomOut:function(){t.changeState(function(t){return{zoom:t.zoom/1.5}})}}),this.draw()},beforeDestroy:function(){this.fworker.terminate()}}},20:function(t,e,s){"use strict";var n=s(50),i=s.n(n),a=function(t,e){var s=e.length;if(1===t)return[e[s-2],e[s-1]];for(var n=0;t<e[n].h||t>=e[n+1].h;)n++;var i=n===s?0:n+1;return[e[n],e[i]]},r=function(t,e,s,n,i){var a=n+(t-e)*(i-n)/(s-e);return Math.round(a)},o=function(t,e){var s=a(t,e),n=i()(s,2),o=n[0],h=n[1];return{r:r(t,o.h,h.h,o.r,h.r),g:r(t,o.h,h.h,o.g,h.g),b:r(t,o.h,h.h,o.b,h.b),a:255}},h=[{h:0,r:0,g:0,b:0},{h:.125,r:255,g:255,b:255},{h:.25,r:0,g:0,b:0},{h:.375,r:255,g:255,b:255},{h:.5,r:0,g:0,b:0},{h:.625,r:255,g:255,b:255},{h:.75,r:0,g:0,b:0},{h:.875,r:255,g:255,b:255},{h:1,r:0,g:0,b:0}],u=[{h:0,r:255,g:255,b:255},{h:.125,r:0,g:0,b:0},{h:.25,r:255,g:255,b:255},{h:.375,r:0,g:0,b:0},{h:.5,r:255,g:255,b:255},{h:.625,r:0,g:0,b:0},{h:.75,r:255,g:255,b:255},{h:875,r:0,g:0,b:0},{h:1,r:255,g:255,b:255}],c=[{h:0,r:255,g:255,b:255},{h:.1,r:255,g:0,b:255},{h:.2,r:0,g:0,b:255},{h:.3,r:0,g:255,b:255},{h:.4,r:0,g:255,b:0},{h:.6,r:255,g:255,b:0},{h:.8,r:255,g:0,b:0},{h:1,r:0,g:0,b:0}],l=[{h:0,r:0,g:7,b:100},{h:.16,r:32,g:107,b:203},{h:.42,r:237,g:255,b:255},{h:.64,r:255,g:170,b:0},{h:.86,r:0,g:2,b:0},{h:1,r:0,g:7,b:100}];e.a={bw:h,wb:u,rb:c,wk:l,lg:o}},36:function(t,e,s){"use strict";var n=s(18),i=s(93),a=s(86),r=s.n(a);n.a.use(i.a),e.a=new i.a({routes:[{path:"/",component:r.a},{path:"*",redirect:"/"}]})},37:function(t,e,s){s(85);var n=s(9)(s(40),s(92),null,null);t.exports=n.exports},38:function(t,e,s){"use strict";var n=s(47),i=s.n(n),a=s(48),r=s.n(a),o=function(){function t(){i()(this,t),this.onMouseDown=this.onMouseDown.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.onTouchStart=this.onTouchStart.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this)}return r()(t,[{key:"setup",value:function(t,e){this.elem=t,this.actions=e}},{key:"onMouseDown",value:function(t){this.cStart={x:t.clientX,y:t.clientY}}},{key:"onMouseUp",value:function(t){if(this.cStart){var e={x:t.clientX,y:t.clientY};this.actions.move(e.x-this.cStart.x,e.y-this.cStart.y),this.cStart=null}}},{key:"onKeyDown",value:function(t){switch(t.keyCode){case 107:case 187:this.actions.zoomIn();break;case 109:case 189:this.actions.zoomOut();break;default:return}}},{key:"onTouchStart",value:function(t){t.preventDefault();var e=t.targetTouches.length;1===e?(this.sx1=t.targetTouches[0].clientX,this.sy1=t.targetTouches[0].clientY,this.state=1):2===e?(this.sx1=t.targetTouches[0].clientX,this.sy1=t.targetTouches[0].clientY,this.sx2=t.targetTouches[1].clientX,this.sy2=t.targetTouches[1].clientY,this.state=2):this.state=0}},{key:"onTouchEnd",value:function(t){if(t.preventDefault(),1===this.state)this.ex1=t.changedTouches[0].clientX,this.ey1=t.changedTouches[0].clientY,this.actions.move(this.ex1-this.sx1,this.ey1-this.sy1);else if(2===this.state){this.ex1=t.changedTouches[0].clientX,this.ey1=t.changedTouches[0].clientY,t.changedTouches.length>1?(this.ex2=t.changedTouches[1].clientX,this.ey2=t.changedTouches[1].clientY):(this.ex2=t.targetTouches[0].clientX,this.ey2=t.targetTouches[0].clientY);var e=(this.sx1-this.sx2)*(this.sx1-this.sx2)+(this.sy1-this.sy2)*(this.sy1-this.sy2),s=(this.ex1-this.ex2)*(this.ex1-this.ex2)+(this.ey1-this.ey2)*(this.ey1-this.ey2);e>s?this.actions.zoomOut():this.actions.zoomIn()}this.state=0}},{key:"bind",value:function(){this.state=0,this.sx1=0,this.sy1=0,this.sx2=0,this.sy2=0,this.ex1=0,this.ey1=0,this.ex2=0,this.ey2=0,this.elem.addEventListener("mousedown",this.onMouseDown),this.elem.addEventListener("mouseup",this.onMouseUp),this.elem.addEventListener("keydown",this.onKeyDown),this.elem.addEventListener("touchstart",this.onTouchStart),this.elem.addEventListener("touchend",this.onTouchEnd)}},{key:"unbind",value:function(){this.elem.removeEventListener("mousedown",this.onMouseDown),this.elem.removeEventListener("mouseup",this.onMouseUp),this.elem.removeEventListener("keydown",this.onKeyDown),this.elem.removeEventListener("touchstart",this.onTouchStart),this.elem.removeEventListener("touchend",this.onTouchEnd)}}],[{key:"create",value:function(e,s){var n=new t;return n.setup(e,s),n}}]),t}();e.a=o},39:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(18),i=s(37),a=s.n(i),r=s(36);n.a.config.productionTip=!1,new n.a({el:"#app",router:r.a,template:"<App/>",components:{App:a.a}})},40:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"app"}},41:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(49),i=s.n(n),a=s(10),r=s.n(a),o=s(87),h=s.n(o),u=s(88),c=s.n(u),l=s(20);e.default={components:{FdrawR:h.a,FdrawRw:c.a},data:function(){return{params:{width:320,height:440,x:-.5,y:0,zoom:150,resolution:300,palette:[{h:0,r:100,g:0,b:0},{h:.5,r:255,g:255,b:0},{h:1,r:100,g:0,b:0}]},drawing:""}},computed:{selectedPalette:function(){switch(this.params.palette){case l.a.bw:return"bw";case l.a.wb:return"wb";case l.a.rb:return"rb";case l.a.wk:return"wk";default:return"custom"}}},methods:{selectPalette:function(t){var e=l.a[t.target.value];this.params=r()({},this.params,{palette:e})},pushToImmutable:function(t,e){var s=+e.target.value;!isNaN(s)&&s>0&&(this.params=r()({},this.params,i()({},t,s)))},progress:function(t){this.drawing=t?"Drawing...":"[+] [-] drag pinch"}}}},42:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(10),i=s.n(n),a=s(19),r=s(20),o={width:300,height:300,x:-.5,y:0,zoom:100,resolution:300,palette:r.a.bw};e.default={mixins:[a.a],methods:{changeState:function(t){this.state=i()({},this.state,t(this.state)),this.draw(),this.$emit("input",this.state)}},created:function(){var t=this;this.value&&"string"==typeof this.value.palette&&(this.value.palette=r.a[this.value.palette]),this.state=i()({},o,this.value),this.getState=function(){return t.state}}}},43:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(10),i=s.n(n),a=s(19);e.default={mixins:[a.a],methods:{changeState:function(t){var e=i()({},this.value,t(this.value));this.$emit("input",e)}},watch:{value:function(){var t=this;this.$nextTick(function(){return t.draw()})}},created:function(){var t=this;this.getState=function(){return t.value}}}},82:function(t,e){},83:function(t,e){},84:function(t,e){},85:function(t,e){},86:function(t,e,s){s(83);var n=s(9)(s(41),s(90),"data-v-3a7a549a",null);t.exports=n.exports},87:function(t,e,s){s(84);var n=s(9)(s(42),s(91),null,null);t.exports=n.exports},88:function(t,e,s){s(82);var n=s(9)(s(43),s(89),null,null);t.exports=n.exports},89:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("canvas",{staticClass:"fcanvas",attrs:{tabindex:"-1",width:t.value.width,height:t.value.height}})},staticRenderFns:[]}},90:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"fpanel"},[s("input",{attrs:{title:"Width"},domProps:{value:t.params.width},on:{change:function(e){t.pushToImmutable("width",e)}}}),t._v(" "),s("span",[t._v("×")]),t._v(" "),s("input",{attrs:{title:"Height"},domProps:{value:t.params.height},on:{change:function(e){t.pushToImmutable("height",e)}}}),t._v(" "),s("span",{staticClass:"info"},[s("b",[t._v(t._s(t.drawing))])]),t._v(" "),s("br"),t._v(" "),s("input",{attrs:{title:"Resolution"},domProps:{value:t.params.resolution},on:{change:function(e){t.pushToImmutable("resolution",e)}}}),t._v(" "),s("select",{attrs:{title:"Palette"},domProps:{value:t.selectedPalette},on:{change:t.selectPalette}},[s("option",{attrs:{disabled:"",value:"custom"}},[t._v("Select palette")]),t._v(" "),s("option",{attrs:{value:"bw"}},[t._v("b&w")]),t._v(" "),s("option",{attrs:{value:"wb"}},[t._v("w&b")]),t._v(" "),s("option",{attrs:{value:"rb"}},[t._v("rainbow")]),t._v(" "),s("option",{attrs:{value:"wk"}},[t._v("wiki")])]),t._v(" "),s("div",{staticClass:"info"},[t._v("x:    "+t._s(t.params.x))]),t._v(" "),s("div",{staticClass:"info"},[t._v("y:    "+t._s(t.params.y))]),t._v(" "),s("div",{staticClass:"info"},[t._v("zoom: "+t._s(t.params.zoom))])]),t._v(" "),s("fdraw-rw",{on:{progress:t.progress},model:{value:t.params,callback:function(e){t.params=e},expression:"params"}})],1)},staticRenderFns:[]}},91:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("canvas",{staticClass:"fcanvas",attrs:{tabindex:"-1",width:t.state.width,height:t.state.height}})},staticRenderFns:[]}},92:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},staticRenderFns:[]}},96:function(t,e,s){t.exports=function(){return new Worker(s.p+"a9d3e60992148fa3989d.worker.js")}}},[39]);