webpackJsonp([1],{19:function(t,e,n){"use strict";var s=n(96),i=n.n(s),a=n(38);e.a={props:["value"],methods:{draw:function(){this.$emit("progress",!0),this.interactions.unbind();var t=this.$el.getContext("2d"),e=this.getState(),n=t.createImageData(e.width,e.height);this.fworker.postMessage({image:n,params:e})}},mounted:function(){var t=this;this.fworker=new i.a,this.fworker.onmessage=function(e){t.$el.getContext("2d").putImageData(e.data.image,0,0),t.interactions.bind(),t.$emit("progress",!1)},this.interactions=a.a.create(this.$el,{move:function(e,n){t.changeState(function(t){var s=t.x,i=t.y,a=t.zoom;return{x:s-e/a,y:i+n/a}})},zoomIn:function(){t.changeState(function(t){return{zoom:1.5*t.zoom}})},zoomOut:function(){t.changeState(function(t){return{zoom:t.zoom/1.5}})}}),this.draw()},beforeDestroy:function(){this.fworker.terminate()}}},20:function(t,e,n){"use strict";var s=n(50),i=n.n(s),a=function(t,e){var n=e.length;if(1===t)return[e[n-2],e[n-1]];for(var s=0;t<e[s].h||t>=e[s+1].h;)s++;var i=s===n?0:s+1;return[e[s],e[i]]},o=function(t,e,n,s,i){var a=s+(t-e)*(i-s)/(n-e);return Math.round(a)},r=function(t,e){var n=a(t,e),s=i()(n,2),r=s[0],h=s[1];return{r:o(t,r.h,h.h,r.r,h.r),g:o(t,r.h,h.h,r.g,h.g),b:o(t,r.h,h.h,r.b,h.b),a:255}},h=[{h:0,r:255,g:255,b:255},{h:1,r:0,g:0,b:0}],u=[{h:0,r:255,g:255,b:255},{h:.1,r:255,g:0,b:255},{h:.2,r:0,g:0,b:255},{h:.3,r:0,g:255,b:255},{h:.4,r:0,g:255,b:0},{h:.6,r:255,g:255,b:0},{h:.8,r:255,g:0,b:0},{h:1,r:0,g:0,b:0}],c=[{h:0,r:0,g:7,b:100},{h:.16,r:32,g:107,b:203},{h:.42,r:237,g:255,b:255},{h:.64,r:255,g:170,b:0},{h:.86,r:0,g:2,b:0},{h:1,r:0,g:7,b:100}];e.a={bw:h,rainbow:u,wiki:c,lg:r}},36:function(t,e,n){"use strict";var s=n(18),i=n(93),a=n(86),o=n.n(a);s.a.use(i.a),e.a=new i.a({routes:[{path:"/",component:o.a},{path:"*",redirect:"/"}]})},37:function(t,e,n){n(85);var s=n(9)(n(40),n(92),null,null);t.exports=s.exports},38:function(t,e,n){"use strict";var s=n(47),i=n.n(s),a=n(48),o=n.n(a),r=function(){function t(){i()(this,t),this.onMouseDown=this.onMouseDown.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.onTouchStart=this.onTouchStart.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this)}return o()(t,[{key:"setup",value:function(t,e){this.elem=t,this.actions=e}},{key:"onMouseDown",value:function(t){this.cStart={x:t.clientX,y:t.clientY}}},{key:"onMouseUp",value:function(t){var e={x:t.clientX,y:t.clientY};this.actions.move(e.x-this.cStart.x,e.y-this.cStart.y)}},{key:"onKeyDown",value:function(t){switch(t.keyCode){case 107:case 187:this.actions.zoomIn();break;case 109:case 189:this.actions.zoomOut();break;default:return}}},{key:"onTouchStart",value:function(t){t.preventDefault();var e=t.targetTouches.length;1===e?(this.sx1=t.targetTouches[0].clientX,this.sy1=t.targetTouches[0].clientY,this.state=1):2===e?(this.sx1=t.targetTouches[0].clientX,this.sy1=t.targetTouches[0].clientY,this.sx2=t.targetTouches[1].clientX,this.sy2=t.targetTouches[1].clientY,this.state=2):this.state=0}},{key:"onTouchEnd",value:function(t){if(t.preventDefault(),1===this.state)this.ex1=t.changedTouches[0].clientX,this.ey1=t.changedTouches[0].clientY,this.actions.move(this.ex1-this.sx1,this.ey1-this.sy1);else if(2===this.state){this.ex1=t.changedTouches[0].clientX,this.ey1=t.changedTouches[0].clientY,t.changedTouches.length>1?(this.ex2=t.changedTouches[1].clientX,this.ey2=t.changedTouches[1].clientY):(this.ex2=t.targetTouches[0].clientX,this.ey2=t.targetTouches[0].clientY);var e=(this.sx1-this.sx2)*(this.sx1-this.sx2)+(this.sy1-this.sy2)*(this.sy1-this.sy2),n=(this.ex1-this.ex2)*(this.ex1-this.ex2)+(this.ey1-this.ey2)*(this.ey1-this.ey2);e>n?this.actions.zoomOut():this.actions.zoomIn()}this.state=0}},{key:"bind",value:function(){this.state=0,this.sx1=0,this.sy1=0,this.sx2=0,this.sy2=0,this.ex1=0,this.ey1=0,this.ex2=0,this.ey2=0,this.elem.addEventListener("mousedown",this.onMouseDown),this.elem.addEventListener("mouseup",this.onMouseUp),this.elem.addEventListener("keydown",this.onKeyDown),this.elem.addEventListener("touchstart",this.onTouchStart),this.elem.addEventListener("touchend",this.onTouchEnd)}},{key:"unbind",value:function(){this.elem.removeEventListener("mousedown",this.onMouseDown),this.elem.removeEventListener("mouseup",this.onMouseUp),this.elem.removeEventListener("keydown",this.onKeyDown),this.elem.removeEventListener("touchstart",this.onTouchStart),this.elem.removeEventListener("touchend",this.onTouchEnd)}}],[{key:"create",value:function(e,n){var s=new t;return s.setup(e,n),s}}]),t}();e.a=r},39:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(18),i=n(37),a=n.n(i),o=n(36);s.a.config.productionTip=!1,new s.a({el:"#app",router:o.a,template:"<App/>",components:{App:a.a}})},40:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"app"}},41:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(49),i=n.n(s),a=n(10),o=n.n(a),r=n(87),h=n.n(r),u=n(88),c=n.n(u),l=n(20);e.default={components:{FdrawR:h.a,FdrawRw:c.a},data:function(){return{params:{width:320,height:440,x:-.5,y:0,zoom:150,resolution:300,palette:l.a.wiki},drawing:""}},computed:{selectedPalette:function(){switch(this.params.palette){case l.a.bw:return"bw";case l.a.rainbow:return"rainbow";case l.a.wiki:return"wiki"}}},methods:{selectPalette:function(t){var e=l.a[t.target.value];this.params=o()({},this.params,{palette:e})},pushToImmutable:function(t,e){var n=+e.target.value;!isNaN(n)&&n>0&&(this.params=o()({},this.params,i()({},t,n)))},progress:function(t){this.drawing=t?"Drawing...":"[+] [-] drag pinch"}}}},42:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(10),i=n.n(s),a=n(19),o=n(20),r={width:300,height:300,x:-.5,y:0,zoom:100,resolution:300,palette:o.a.bw};e.default={mixins:[a.a],methods:{changeState:function(t){this.state=i()({},this.state,t(this.state)),this.draw(),this.$emit("input",this.state)}},created:function(){var t=this;this.value&&"string"==typeof this.value.palette&&(this.value.palette=o.a[this.value.palette]),this.state=i()({},r,this.value),this.getState=function(){return t.state}}}},43:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(10),i=n.n(s),a=n(19);e.default={mixins:[a.a],methods:{changeState:function(t){var e=i()({},this.value,t(this.value));this.$emit("input",e)}},watch:{value:function(t){var e=this;this.$nextTick(function(){return e.draw()})}},created:function(){var t=this;this.getState=function(){return t.value}}}},82:function(t,e){},83:function(t,e){},84:function(t,e){},85:function(t,e){},86:function(t,e,n){n(83);var s=n(9)(n(41),n(90),"data-v-3a7a549a",null);t.exports=s.exports},87:function(t,e,n){n(84);var s=n(9)(n(42),n(91),null,null);t.exports=s.exports},88:function(t,e,n){n(82);var s=n(9)(n(43),n(89),null,null);t.exports=s.exports},89:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("canvas",{staticClass:"fcanvas",attrs:{tabindex:"-1",width:t.value.width,height:t.value.height}})},staticRenderFns:[]}},90:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"fpanel"},[n("input",{attrs:{title:"Width"},domProps:{value:t.params.width},on:{input:function(e){t.pushToImmutable("width",e)}}}),t._v(" "),n("span",[t._v("×")]),t._v(" "),n("input",{attrs:{title:"Height"},domProps:{value:t.params.height},on:{input:function(e){t.pushToImmutable("height",e)}}}),t._v(" "),n("span",{staticClass:"info"},[n("b",[t._v(t._s(t.drawing))])]),t._v(" "),n("br"),t._v(" "),n("input",{attrs:{title:"Resolution"},domProps:{value:t.params.resolution},on:{input:function(e){t.pushToImmutable("resolution",e)}}}),t._v(" "),n("select",{attrs:{title:"Palette"},domProps:{value:t.selectedPalette},on:{input:t.selectPalette}},[n("option",{attrs:{disabled:""}},[t._v("Select palette")]),t._v(" "),n("option",{attrs:{value:"bw"}},[t._v("b&w")]),t._v(" "),n("option",{attrs:{value:"rainbow"}},[t._v("rainbow")]),t._v(" "),n("option",{attrs:{value:"wiki"}},[t._v("wiki")])]),t._v(" "),n("div",{staticClass:"info"},[t._v("x:    "+t._s(t.params.x))]),t._v(" "),n("div",{staticClass:"info"},[t._v("y:    "+t._s(t.params.y))]),t._v(" "),n("div",{staticClass:"info"},[t._v("zoom: "+t._s(t.params.zoom))])]),t._v(" "),n("fdraw-rw",{on:{progress:t.progress},model:{value:t.params,callback:function(e){t.params=e},expression:"params"}})],1)},staticRenderFns:[]}},91:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("canvas",{staticClass:"fcanvas",attrs:{tabindex:"-1",width:t.state.width,height:t.state.height}})},staticRenderFns:[]}},92:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]}},96:function(t,e,n){t.exports=function(){return new Worker(n.p+"cb3e528849e0c8e80224.worker.js")}}},[39]);